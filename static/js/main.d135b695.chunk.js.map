{"version":3,"sources":["components/common/Navbar.jsx","data/awsRegions.js","components/common/PopUp.jsx","components/map/Map.jsx","data/getAwsIpRanges.js","components/regions/RegionIpList.jsx","components/pages/MapPage.jsx","App.js","index.js"],"names":["Navbar","className","href","regions","name","niceName","PopUp","props","handleClick","event","setClickedRegion","target","id","style","top","mousePosition","y","left","x","clickedCountry","code","map","region","onClick","Map","useState","setMousePosition","showPopup","setShowPopup","layerProps","setClickedCountry","attributes","value","nativeEvent","offsetX","offsetY","world","clickedRegion","a","fetch","res","json","data","ipv4","filterByRegion","ipv6","addType","addRowNo","type","prefixes","filter","prefix","ipv6_prefixes","count","no","getAwsIpRanges","RegionIpList","regionIpData","setRegionIpData","useEffect","setData","Fragment","ip","ip_prefix","ipv6_prefix","service","network_border_group","uuidv4","MapPage","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d135b695.chunk.js","sourcesContent":["import React from 'react';\nimport './Navbar.css';\n\nfunction Navbar() {\n  return (\n    <div className=\"navbar\">\n      <a href=\"\"><h3>Map View</h3></a>\n      <div className=\"title\">\n        <h1>AWS Region IP Finder</h1>\n      </div>\n      <a href=\"\"><h3>List View</h3></a>\n    </div>\n  );\n}\n\nexport default Navbar;\n","const regions = {\n  'us': [\n    {name: 'us-east-1', niceName: 'N Virginia'},\n    {name: 'us-east-2', niceName: 'Ohio'},\n    {name: 'us-west-1', niceName: 'Northern California'},\n    {name: 'us-west-2', niceName: 'Oregon'},\n    {name: 'us-gov-east-1', niceName: 'AWS GovCloud (US-East)'},\n    {name: 'us-gov-west-1', niceName: 'AWS GovCloud (US-East)'}],\n  'za': \n    [{name: 'af-south-1', niceName: 'Cape Town'}],\n  'hk': \n    [{name: 'ap-east-1', niceName: 'Hong Kong'}],\n  'in': \n    [{name: 'ap-south-1', niceName: 'Mumbai'}],\n  'jp':\n    [{name: 'ap-northeast-3', niceName: 'Osaka-Local', 'ap-northeast-1': 'Tokyo' }],\n  'kr': [{name: 'ap-northeast-2', niceName: 'Seoul'}],\n  'sg': [{name: 'ap-southeast-1', niceName: 'Singapore'}],\n  'au': [{name: 'ap-southeast-2', niceName: 'Sydney'}],\n  'ca': [{name: 'ca-central-1', niceName: 'Canada'}],\n  'de': [{name: 'eu-central-1', niceName: 'Frankfurt'}],\n  'ie': [{name: 'eu-west-1', niceName: 'Ireland'}],\n  'gb': [{name: 'eu-west-2', niceName: 'London'}],\n  'it': [{name: 'eu-south-1', niceName: 'Milan'}],\n  'fr': [{name: 'eu-west-3', niceName: 'Paris'}],\n  'se': [{name: 'eu-north-1', niceName: 'Stockholm'}],\n  'bh': [{name: 'me-south-1', niceName: 'Bahrain'}],\n  'br': [{name: 'sa-east-1', niceName: 'Sao Paulo'}],\n};\n\nexport default regions;","import React from 'react';\nimport './PopUp.css';\nimport regions from '../../data/awsRegions';\n\nfunction PopUp(props) {\n  function handleClick(event) {\n    props.setClickedRegion(event.target.id);\n  }\n\n  return (\n    <div\n      style={{ top: props.mousePosition.y + 20, left: props.mousePosition.x }}\n      className=\"popup-container\"\n    >\n      <h3>{props.clickedCountry.name}</h3>\n      {regions[props.clickedCountry.code].map((region) => {\n        return <p id={region.name} onClick={handleClick}>{`${region.niceName} - ${region.name}`}</p>;\n      })}\n    </div>\n  );\n}\n\nexport default PopUp;\n","import React, { useState } from 'react';\nimport { VectorMap } from '@south-paw/react-vector-maps';\nimport PopUp from '../common/PopUp';\nimport world from '../../data/worldMap.json';\nimport './Map.css';\n\nfunction Map(props) {\n  const [mousePosition, setMousePosition] = useState();\n  const [showPopup, setShowPopup] = useState(false);\n\n  // For each layer of the map add an onclick function that sets the clicked country state to the\n  // country name\n  const layerProps = {\n    onClick: ({ target }) =>\n      props.setClickedCountry({\n        name: target.attributes.name.value,\n        code: target.attributes.id.value,\n      }),\n  };\n\n  // If the user clicks anywhere in the map div store the point in time mouse coordinates and show\n  // the popup component\n  function onClick(event) {\n    setMousePosition({\n      x: event.nativeEvent.offsetX,\n      y: event.nativeEvent.offsetY,\n    });\n    setShowPopup(true);\n  }\n\n  return (\n    <div className=\"map\" onClick={onClick}>\n      <VectorMap {...world} layerProps={layerProps} />\n      {showPopup && (\n        <PopUp\n          mousePosition={mousePosition}\n          clickedCountry={props.clickedCountry}\n          clickedRegion={props.clickedRegion}\n          setClickedRegion={props.setClickedRegion}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Map;\n","async function getAwsIpRanges(region) {\n  const res = await fetch('https://ip-ranges.amazonaws.com/ip-ranges.json');\n  const data = await res.json();\n\n  // Get the v4 and v6 IPs for the specified region\n  let ipv4 = filterByRegion(data, region, 'ipv4');\n  let ipv6 = filterByRegion(data, region, 'ipv6');\n\n  // Add a type identifier to each ip\n  ipv4 = addType(ipv4, 'ipv4');\n  ipv6 = addType(ipv6, 'ipv6');\n\n  // Combine ip lists and return them with a row number prefix\n  return addRowNo([...ipv4, ...ipv6]);\n}\n\nfunction filterByRegion(data, region, type) {\n  if (type === 'ipv4')\n    return data.prefixes.filter((prefix) => prefix.region === region);\n  if (type === 'ipv6')\n    return data.ipv6_prefixes.filter((prefix) => prefix.region === region);\n}\n\nfunction addType(data, type) {\n  const dataWithType = data.map((prefix) => ({ ...prefix, type: type }));\n\n  return dataWithType;\n}\n\nfunction addRowNo(data) {\n  let count = 0;\n  const dataWithRowNo = data.map((prefix) => {\n    count++;\n    return { no: count, ...prefix };\n  });\n\n  return dataWithRowNo;\n}\n\nexport default getAwsIpRanges;\n","import React, { useEffect, useState } from 'react';\nimport getAwsIpRanges from '../../data/getAwsIpRanges';\nimport './RegionIpList.css';\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction RegionIpList(props) {\n  const [regionIpData, setRegionIpData] = useState();\n\n  useEffect(() => {\n    async function setData() {\n      setRegionIpData(await getAwsIpRanges(props.region));\n    }\n\n    setData();\n  }, []);\n\n  return (\n    <div className=\"region-ip-list-container\">\n      <table className=\"region-ip-list-table\">\n        <thead>\n          <tr>\n            <th>no.</th>\n            <th>type</th>\n            <th>ip_prefix</th>\n            <th>region</th>\n            <th>service</th>\n            <th>network_border_group</th>\n          </tr>\n        </thead>\n        <tbody>\n          {regionIpData && (\n            <React.Fragment>\n              {regionIpData.map((ip) => {\n                return (\n                  <tr key={uuidv4()}>\n                    <td>{ip.no}</td>\n                    <td>{ip.type}</td>\n                    <td>{ip.ip_prefix || ip.ipv6_prefix}</td>\n                    <td>{ip.region}</td>\n                    <td>{ip.service}</td>\n                    <td>{ip.network_border_group }</td>\n                  </tr>\n                );\n              })}\n            </React.Fragment>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default RegionIpList;\n","import React, { useState } from 'react';\nimport Map from '../map/Map';\nimport RegionIPList from '../regions/RegionIpList'\nimport './MapPage.css';\n\nfunction MapPage() {\n  const [clickedCountry, setClickedCountry] = useState();\n  const [clickedRegion, setClickedRegion] = useState();\n\n  return (\n    <div className=\"map-page-container\">\n      <Map\n        clickedCountry={clickedCountry}\n        setClickedCountry={setClickedCountry}\n        clickedRegion={clickedRegion}\n        setClickedRegion={setClickedRegion}\n      />\n      {clickedRegion && (\n        <RegionIPList\n          region={clickedRegion}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default MapPage;\n","// import { useEffect, useState } from 'react';\nimport './App.css';\nimport Navbar from './components/common/Navbar'\nimport MapPage from './components/pages/MapPage'\nimport RegionIpList from './components/regions/RegionIpList';\n\n\nfunction App() {\n  return (\n    <div>\n      <Navbar />\n      <MapPage />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}