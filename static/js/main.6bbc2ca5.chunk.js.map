{"version":3,"sources":["components/common/Navbar.jsx","data/awsRegions.js","components/common/PopUp.jsx","components/map/Map.jsx","components/regions/RegionList.jsx","data/getAwsIpRanges.js","components/regions/RegionIpList.jsx","components/pages/MainPage.jsx","App.js","index.js"],"names":["Navbar","className","to","regions","name","niceName","countries","PopUp","props","handleClick","event","setClickedRegion","target","id","style","top","mousePosition","y","left","x","clickedCountry","code","map","region","onClick","uuidv4","Map","useState","setMousePosition","showPopup","setShowPopup","layerProps","setClickedCountry","attributes","value","classList","contains","nativeEvent","offsetX","offsetY","world","clickedRegion","RegionList","countryCode","currentTarget","parentNode","countryName","Object","entries","key","a","fetch","res","json","data","ipv4","filterByRegion","ipv6","addType","addRowNo","type","prefixes","filter","prefix","ipv6_prefixes","count","no","getAwsIpRanges","RegionIpList","regionIpData","setRegionIpData","useEffect","setData","ref","regionIpListRef","Fragment","ip","ip_prefix","ipv6_prefix","service","network_border_group","MainPage","useRef","current","scrollIntoView","behavior","mapView","listView","view","App","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6bbc2ca5.chunk.js","sourcesContent":["import React from 'react';\nimport './Navbar.css';\nimport { Link } from 'react-router-dom';\n\nfunction Navbar() {\n  return (\n    <div className=\"navbar\">\n      <Link to='/aws-regions/map'><button>Map</button></Link>\n\n      <div className=\"title\">\n        <h1>AWS Region IP Finder</h1>\n      </div>\n\n      <Link to='/aws-regions/list'><button>List</button></Link>\n    </div>\n  );\n}\n\nexport default Navbar;","const regions = {\n  'us': [\n    {name: 'us-east-1', niceName: 'N Virginia'},\n    {name: 'us-east-2', niceName: 'Ohio'},\n    {name: 'us-west-1', niceName: 'Northern California'},\n    {name: 'us-west-2', niceName: 'Oregon'},\n    {name: 'us-gov-east-1', niceName: 'AWS GovCloud (US-East)'},\n    {name: 'us-gov-west-1', niceName: 'AWS GovCloud (US-East)'}],\n  'za': \n    [{name: 'af-south-1', niceName: 'Cape Town'}],\n  'hk': \n    [{name: 'ap-east-1', niceName: 'Hong Kong'}],\n  'in': \n    [{name: 'ap-south-1', niceName: 'Mumbai'}],\n  'jp':\n    [{name: 'ap-northeast-3', niceName: 'Osaka-Local', 'ap-northeast-1': 'Tokyo' }],\n  'kr': [{name: 'ap-northeast-2', niceName: 'Seoul'}],\n  'sg': [{name: 'ap-southeast-1', niceName: 'Singapore'}],\n  'au': [{name: 'ap-southeast-2', niceName: 'Sydney'}],\n  'ca': [{name: 'ca-central-1', niceName: 'Canada'}],\n  'de': [{name: 'eu-central-1', niceName: 'Frankfurt'}],\n  'ie': [{name: 'eu-west-1', niceName: 'Ireland'}],\n  'gb': [{name: 'eu-west-2', niceName: 'London'}],\n  'it': [{name: 'eu-south-1', niceName: 'Milan'}],\n  'fr': [{name: 'eu-west-3', niceName: 'Paris'}],\n  'se': [{name: 'eu-north-1', niceName: 'Stockholm'}],\n  'bh': [{name: 'me-south-1', niceName: 'Bahrain'}],\n  'br': [{name: 'sa-east-1', niceName: 'Sao Paulo'}],\n};\n\nconst countries = \n{\n  'us': 'United States of America',\n  'za': 'South Africa',\n  'hk': 'Hong Kong',\n  'in': 'India',\n  'jp': 'Japan',\n  'kr': 'South Korea',\n  'sg': 'Singapore',\n  'au': 'Australia',\n  'ca': 'Canada',\n  'de': 'Germany',\n  'ie': 'Ireland',\n  'gb': 'United Kingdom',\n  'it': 'Italy',\n  'fr': 'France',\n  'se': 'Sweden',\n  'bh': 'Bahrain',\n  'br': 'Brazil',\n};\n\nexport {regions, countries};","import React from 'react';\nimport './PopUp.css';\nimport { regions } from '../../data/awsRegions';\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction PopUp(props) {\n  function handleClick(event) {\n    props.setClickedRegion(event.target.id);\n  }\n\n  return (\n    <div\n      style={{ top: props.mousePosition.y + 20, left: props.mousePosition.x }}\n      className=\"card-style popup-container popup\"\n    >\n      <h3 className=\"popup\">{props.clickedCountry.name}</h3>\n      {regions[props.clickedCountry.code].map((region) => {\n        return (\n          <button\n            key={uuidv4()}\n            id={region.name}\n            onClick={handleClick}\n            className=\"popup\"\n          >\n            {region.name}\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default PopUp;\n","import React, { useState } from 'react';\nimport { VectorMap } from '@south-paw/react-vector-maps';\nimport PopUp from '../common/PopUp';\nimport world from '../../data/worldMap.json';\nimport './Map.css';\n\nfunction Map(props) {\n  const [mousePosition, setMousePosition] = useState();\n  const [showPopup, setShowPopup] = useState(false);\n\n  // For each layer of the map add an onclick function that sets the clicked country state to the\n  // country name\n  const layerProps = {\n    onClick: ({ target }) =>\n      props.setClickedCountry({\n        name: target.attributes.name.value,\n        code: target.attributes.id.value,\n      }),\n  };\n\n  // If the user clicks anywhere in the map div store the point in time mouse coordinates and show\n  // the popup component\n  function onClick(event) {\n    // Only fire event if the click is not on the popup box\n    if (!event.target.classList.contains('popup')) {\n      setMousePosition({\n        x: event.nativeEvent.offsetX,\n        y: event.nativeEvent.offsetY,\n      });\n      setShowPopup(true);\n    } \n  }\n\n  return (\n    <div className=\"map\" onClick={onClick}>\n      <VectorMap {...world} layerProps={layerProps} />\n      {showPopup && (\n        <PopUp\n          mousePosition={mousePosition}\n          clickedCountry={props.clickedCountry}\n          clickedRegion={props.clickedRegion}\n          setClickedRegion={props.setClickedRegion}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Map;\n","import React from 'react';\nimport { regions, countries } from '../../data/awsRegions';\nimport './RegionList.css';\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction RegionList(props) {\n  function onClick(event) {\n    const countryCode = event.currentTarget.parentNode.classList[2];\n    const countryName = countries[countryCode];\n\n    props.setClickedRegion(event.target.id);\n    props.setClickedCountry({\n      name: countryName,\n      code: countryCode,\n    });\n  }\n\n  return (\n    <div className=\"region-list-grid\">\n      {Object.entries(regions).map(([key, value]) => {\n        return (\n          <div className={`card-style country-grid-item ${key}`}>\n            <h2>{countries[key]}</h2>\n            {value.map((region) => {\n              return (\n                <button\n                  key={uuidv4()}\n                  id={region.name}\n                  onClick={onClick}\n                  className=\"popup\"\n                >\n                  {region.name}\n                </button>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default RegionList;\n","async function getAwsIpRanges(region) {\n  const res = await fetch('https://ip-ranges.amazonaws.com/ip-ranges.json');\n  const data = await res.json();\n\n  // Get the v4 and v6 IPs for the specified region\n  let ipv4 = filterByRegion(data, region, 'ipv4');\n  let ipv6 = filterByRegion(data, region, 'ipv6');\n\n  // Add a type identifier to each ip\n  ipv4 = addType(ipv4, 'ipv4');\n  ipv6 = addType(ipv6, 'ipv6');\n\n  // Combine ip lists and return them with a row number prefix\n  return addRowNo([...ipv4, ...ipv6]);\n}\n\nfunction filterByRegion(data, region, type) {\n  if (type === 'ipv4')\n    return data.prefixes.filter((prefix) => prefix.region === region);\n  if (type === 'ipv6')\n    return data.ipv6_prefixes.filter((prefix) => prefix.region === region);\n}\n\nfunction addType(data, type) {\n  const dataWithType = data.map((prefix) => ({ ...prefix, type: type }));\n\n  return dataWithType;\n}\n\nfunction addRowNo(data) {\n  let count = 0;\n  const dataWithRowNo = data.map((prefix) => {\n    count++;\n    return { no: count, ...prefix };\n  });\n\n  return dataWithRowNo;\n}\n\nexport default getAwsIpRanges;\n","import React, { useEffect, useState } from 'react';\nimport getAwsIpRanges from '../../data/getAwsIpRanges';\nimport './RegionIpList.css';\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction RegionIpList(props) {\n  const [regionIpData, setRegionIpData] = useState();\n\n  useEffect(() => {\n    async function setData() {\n      setRegionIpData(await getAwsIpRanges(props.region));\n    }\n\n    setData();\n  }, [props.region]);\n\n  return (\n    <div className=\"region-ip-list-container\">\n      <table className=\"region-ip-list-table\" ref={props.regionIpListRef}>\n        <thead>\n          <tr>\n            <th>no.</th>\n            <th>type</th>\n            <th>ip_prefix</th>\n            <th>region</th>\n            <th>service</th>\n            <th>network_border_group</th>\n          </tr>\n        </thead>\n        <tbody>\n          {regionIpData && (\n            <React.Fragment>\n              {regionIpData.map((ip) => {\n                return (\n                  <tr key={uuidv4()}>\n                    <td>{ip.no}</td>\n                    <td>{ip.type}</td>\n                    <td>{ip.ip_prefix || ip.ipv6_prefix}</td>\n                    <td>{ip.region}</td>\n                    <td>{ip.service}</td>\n                    <td>{ip.network_border_group }</td>\n                  </tr>\n                );\n              })}\n            </React.Fragment>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default RegionIpList;\n","import React, { useEffect, useRef, useState } from 'react';\nimport Map from '../map/Map';\nimport RegionList from '../regions/RegionList';\nimport RegionIPList from '../regions/RegionIpList';\nimport './MainPage.css';\n\nfunction MainPage(props) {\n  const [clickedCountry, setClickedCountry] = useState();\n  const [clickedRegion, setClickedRegion] = useState();\n  const regionIpListRef = useRef();\n\n  useEffect(() => {\n    if (clickedRegion)\n      regionIpListRef.current.scrollIntoView({ behavior: 'smooth' });\n  }, [clickedRegion]);\n\n  const mapView = (\n    <div className=\"map-container\">\n      <p className=\"map-intro-para\">\n        Countries with at least one AWS region are highlighted in blue, click a\n        highlighted country to see list of AWS regions. Clicking a region will\n        return a list of IPs.\n      </p>\n      <Map\n        clickedCountry={clickedCountry}\n        setClickedCountry={setClickedCountry}\n        clickedRegion={clickedRegion}\n        setClickedRegion={setClickedRegion}\n      />\n    </div>\n  );\n\n  const listView = (\n    <div className=\"list-container\">\n      <p className=\"list-intro-para\">\n        Countries and their AWS regions are displayed below. Clicking a region\n        will return a list of IPs.\n      </p>\n      <RegionList\n        setClickedCountry={setClickedCountry}\n        setClickedRegion={setClickedRegion}\n      />\n    </div>\n  );\n\n  return (\n    <div className=\"main-page-container\">\n      {/* Depending on the view prop passed by the router, render the corresponding view */}\n      {props.view === \"map\" ? mapView : listView}\n\n      {/* When a region is selected a list of IPs should be rendered */}\n      {clickedRegion && (\n        <div>\n          <h1>{`${clickedCountry.name} - ${clickedRegion}`}</h1>\n          <RegionIPList\n            regionIpListRef={regionIpListRef}\n            region={clickedRegion}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default MainPage;\n","// import { useEffect, useState } from 'react';\nimport './App.css';\nimport Navbar from './components/common/Navbar';\nimport MainPage from './components/pages/MainPage';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <Navbar />\n        <Switch>\n          <Route\n            path=\"/aws-regions/\"\n            exact\n            render={(props) => <MainPage {...props} view=\"map\" />}\n          />\n          <Route\n            path=\"/aws-regions/map\"\n            exact\n            render={(props) => <MainPage {...props} view=\"map\" />}\n          />\n          <Route\n            path=\"/aws-regions/list\"\n            exact\n            render={(props) => <MainPage {...props} view=\"list\" />}\n          />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}